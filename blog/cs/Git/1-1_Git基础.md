---
difficulty: easy
type: origin
---
# Git 基础

## Git 设计理念

> Pro Git(第2版): [https://book.douban.com/subject/27133267/](https://book.douban.com/subject/27133267/) <br/>

### Git 的由来

在讲 Git 之前，必须聊一下它的创建者: Linus Torvalds。Linus 有很多传奇的经历：
- 早年由于对 MS-DOS 和 MINIX 不爽， Linus 希望买一套 Unix 操作系统，但是 Unix 系统太贵了，于是他决定搭建后来的 Linux 系统 (完全开源免费)。
- 由于 BitKeeper 的开发公司停止了同 Linux 社区的合作，于是 Linus 写了 Git (完全开源免费)。
- 在给 Linux 系统设计图标时，他希望是一只与众不同的，灌满啤酒的，刚经历过一次此生最爽性高潮的企鹅。
- 由于 Nvidia 公司不乐意为 linux 提供支持，为了表示对 Nvidia 公司由衷的赞许，Linus 对着摄像机竖中指，说出了传世经典: "so Nvidia fuck you"。

现在 Git 有多火呢，一句话概括就是占据支配地位，在 [2022 StackOverflow 开发者年度调查报告](https://survey.stackoverflow.co/2022) 中显示，93.87% 的开发者使用 Git 作为其版本控制工具。如果说 5 年前，尚有公司选择 SVN 的话，那么现在唯一不使用 Git 的接口就是: 项目太老，更换 Git 的代价过大。

前面我们说过，2005 年，由于 BitKeeper 的开发公司停止了与 Linux 社区的合作，Linus 无法免费使用版本控制工具了，于是他基于自己维护 Linux 系统的经验，开发出了 Git，Git 有如下特点: 速度快，设计简单，分布式，支持并行开发。

### Git 特点

Git 会将数据文件看作一组快照，每次有修改时，它都会对当前的全部文件做一个快照并保存这个快照的索引(哈希值)。当然 Git 并不会笨拙地将所有文件都复制一份，如果有文件没有修改，那么 Git 仅保留一个链接指向之前存储的文件。

Git 中的所有数据在存储前都会进行计算校验和，这意味着任何对文件的更改都会被 Git 捕捉到。这种计算校验和的机制叫做 SHA-1 散列，这个是一个由 40 个十六进制字符组成的哈希值，基于 Git 中文件的内容或目录结构计算出来。我们可以通过这个 hash 值确定当前所在的位置。Git 数据库中保存在信息都是以文件内容的哈希值进行索引的，而不是文件名。

Git 一般只添加数据，我们只会在 Git 中添加数据信息，例如某个文件被删除，新建了哪个文件。这有一个好处: Git 永远知道前人干了什么。所有的操作都是不可逆的，因此所有的操作都会被记录下来。

<p class="tip">但这也有个坏处，使用不当的话 .git 文件会变得非常大。</p>

### Git 状态与工作区

Git 有三种状态: modified(已修改), staged(已暂存), committed(已提交):
- modified: 表示修改了文件，但是还没保存到数据库中。
- staged: 对一个已修改的文件的当前版本做了标记，使之包含在下次提交的快照中。
- committed: 数据已经安全保存在本地数据库(.git)中。

根据这三种状态又引申出三个工作区: 工作目录，暂存区，Git 仓库:
- 工作目录: 项目的某个版本独立提取出来的内容。
- 暂存区: 暂存区域是一个文件，保存了下次将提交的文件列表信息，一般在 Git 仓库目录中。 
- Git 仓库: Git 用来保存项目的元数据和对象数据库的地方。

一般地，我们在工作区修改文件，将修改后的文件暂存并放入到暂存区，提交更新时，找到暂存区的文件，将快照永久性存储到 Git 仓库目录。

### Git 安装

Git 安装去官网下载对应文件即可: [Git 下载](https://git-scm.com/download)。记得安装时勾选 git bash 并添加到系统 path 环境中。具体的安装步骤可以参考[这篇文章](https://zhuanlan.zhihu.com/p/242540359)。