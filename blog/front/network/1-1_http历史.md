---
difficulty: easy
type: organize
---

# http 历史

http，目前前端用的最多也最容易忽视的协议，这篇文章整理一下 http 发展历史。

## http 0.9

非常古老的版本，现在基本不用了，有以下特点：
- 基于 TCP 协议
- 只有请求行和相应行
- 只能发送 get 请求
- 以 ASCII 字节流编码方式传输
- 局限于文本传输

## http 1.0

也比较古老，主要拓展了可传输资源类型：
- 支持 js，css，图片，音视频等各类文件传输
- 可以设置请求头和响应头

## http 1.1

主要解决 http1.0 每次传输资源都要不断断开和重连的问题。
- 一次一份，必须等待上一个连接响应之后才能发送下一个连接
- 一次可以维持最多6个持久连接，指可以进行最多6次一次一份的请求
- 由于一次一份同步通信的特性，不得不想各种方法减少 http 请求
- 报文主体压缩

## http 2.0

主要解决 http1.1 长连接带来的带宽利用率低和优化对头阻塞的问题，是目前主流的 http 版本：
- 一次只能维持一个长连接，这样就不会出现多个对头阻塞问题
- 多路复用技术，将请求处理成一帧一帧的请求片段
- 使用双向全双工通信，之前都是半双工通信
- 报文首部和主体都压缩
- 支持服务器推送，但主要是服务端将客户端可能需要的文件传过来，客户端没有可用的相关接口

## https

http2.0 + TSL 加密，前端唯一有效的加密方式。通过非对称加密的方式对传输的数据加密。

## http 3.0

由于之前版本的 http 协议都是基于 TCP 传输协议建立的，因此无法克服 TCP 协议的一些缺陷：
- TCP 对头阻塞：当存在数据包丢失时，TCP会重传一个新的包，在新包传递前，后续的数据包会被暂停传输
- TCP 握手开销：事件开销大

因此 http3.0 改用了 UDP 协议，UDP 协议的特点包括：
- 速度快
- 安全性不高
- 没有超时重传，可能丢失数据包

http3.0 在 UDP 协议基础上进行了优化：
- UDP 上是西安了 TCP 的拥塞控制，可靠性传输
- 继承了 TSL 加密功能
- 多路复用技术
- 快速握手

http3.0 默认使用 QUIC，QUIC 会进行数据加密，约等于 TSL2.0